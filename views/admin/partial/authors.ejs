<%-include('../layouts/_header')%><%-include('../layouts/head_links')%> 

<div class="container">
  <div class="line-break text-center py-4">
    <span class="shadow-heading text-uppercase fs-5 fw-bold">Authors</span>
    <div style="float:right;background-color: rgb(28, 109, 41);border-radius: 25px; width: 130px;">
      <a href="/admin/categories" style="font-size: smaller;" class="text-uppercase text-decoration-none
      text-white fw-bold">Categories</a>
    </div>
    
  </div>
  <div class="d-flex flex-column justify-content-center mb-5 pt-4 w-75 mx-auto">
      <% if(details !=null) { %>
      <table
        id="dataTable"
        class="table table-hover cell-border fw-light nowrap"
      >
        <thead>
          <tr class="text-uppercase">
            <th>No.</th>
            <th>Name</th>
            <th>images</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
        <% details.forEach(function(item,i){ %>
       
          <tr>
            <td><%= i+1 %></td>
            <td><%= item.name %></td>
            <td></td>
            <td class="text-center list-unstyled">
              <a
                href="/admin/authors/edit?id=<%= item._id%>"
                onclick="editConfirmation(event,'<%= item.name %>')"
                ><i
                class="py-1 fa fa-edit fa-lg text-info"
              ></i>
              </a>
              <a
                href="/admin/authors/delete_author?id=<%= item._id%>"
                onclick="deleteConfirmation(event,'<%= item.name %>')"
                ><i
                  class="py-1 fa fa-trash fa-lg text-danger"
                  aria-hidden="true"
                ></i>
              </a>
            </td>
          </tr>
        
        <% }) %>
      </tbody> 
      </table>
      <% } %>
    <div class="w-25 mx-auto mt-4">
      <span
        class="text-center pb-3"
        style="font-size: 0.8rem; text-transform: none"
      >
        <p class="text-danger mt-0 fw-bold text-uppercase">
          <%= locals.errorMessage %>
        </p>
      </span>
      <form action="/admin/authors" method="post">
        <div class="d-flex justify-content-center mb-3">
          <input
            type="string"
            class="form-control"
            id="form-holder"
            placeholder="Enter Author Name"
            name="author"
            style="text-transform: none"
          />
        </div>
        <div class="d-flex justify-content-center mb-3">
          <div class=" text-center">
            <input type="submit" class="btn btn-primary text-uppercase" value="Add Author "/>
          </div>
        </div>
        
      </form>
    </div>
  </div>
</div>

<%-include('../layouts/_footer')%>