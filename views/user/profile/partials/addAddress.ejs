<%- include('../layouts/_header') %>




  
<div class="container">
  <div class="row mt-5">
    <%- include('../layouts/profileSearchBar') %>
        
      <div class="col-lg-8 rounded-3 bg-profile ms-3">
          <div class=" pt-2">
              <span class="text-black text-capitalize fs-4 fw-bolder">My Profile</span>
              <!-- profile add -->
              <div class="float-end col-1">
                <img src="/img/profile/Frame 36.png" id="profile-pic" class="img-fluid" alt="" style="cursor: pointer;">
                <input type="file" id="upload" style="display: none;">
                <button id="crop" style="display: none;">Crop</button>
                <div id="preview"></div>
                <button id="save" style="display: none;">Save</button>
            </div>  
            <!--  -->    
          </div>
          <!--  -->  
          <small><span class="fw-bold">Manage Your Address</span></small>
          <hr>
          
        <!--  -->
        <!-- Button trigger modal -->
<button type="button" class="btn logbtn text-light fw-bold shadow justify-content-center m-auto d-block" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
  Add your Address here <span class="fw-bold">+</span> 
</button>

<!-- Modal -->
<form action="/users/profile/manageAddress" method="post">
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Add Your Address</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <!-- ------ -->
      <div class="modal-body">
        <div class="mb-3">
          <input
            type="text"
            class="form-control"
            id="building"
            placeholder="building"
            name="building"
            required
          />
        </div>
        <!--  -->
          <div class="mb-3">
            <input
              type="text"
              class="form-control"
              id="address"
              placeholder="address"
              name="address"
              required
            />
          </div>
          <!--  -->
          <div class="mb-3">
            <input
              type="number"
              class="form-control"
              id="pincode"
              placeholder="pincode"
              name="pincode"
              required
            />
          </div>
          <!--  -->
          <div class="mb-3">
            <input
              type="text"
              class="form-control"
              id="country"
              placeholder="country"
              name="country"
              required
            />
          </div>
          <!--  -->
          <div class="mb-3">
            <input
              type="text"
              class="form-control"
              id="contactNumber"
              placeholder="contact Number"
              name="contactNumber"
              required
            />
          </div>
        <!-- ----- -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary">SAVE</button>
      </div>
    </form>
    </div>
  </div>
</div>
      <!--  -->
      <% if (currentUser) { %>
        <% currentUser.addresses.forEach(function(address, i){ %>
            <table class="table table-striped table-bordered mt-4">
                <thead class="thead-dark">
                    <tr>
                        <th>Building</th>
                        <th>Address</th>
                        <th>Pincode</th>
                        <th>Country</th>
                        <th>Contact Number</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><%= address.building %></td>
                        <td><%= address.address %></td>
                        <td><%= address.pincode %></td>
                        <td><%= address.country %></td>
                        <td><%= address.contactNumber %></td>
                    </tr>
                </tbody>
                <tfoot>
                  <tr>
                      <td>
                          <% if (!address.primary) { %>
                              <a href="/users/profile/manageAddress/setDefault/<%= i %>" class="btn btn-primary">Set as Default</a>
                          <% } else { %>
                              <span class="badge bg-primary">Default Address</span>
                          <% } %>
                      </td>
                      <td colspan="3">
                          <a href="/users/profile/manageAddress/edit/<%= i %>" class="btn btn-warning">Edit</a>
                      </td>
                      <td>
                          <a href="/users/profile/manageAddress/delete/<%= i %>" class="btn btn-danger">Delete</a>
                      </td>
                  </tr>
              </tfoot>
          </table>
      <% }) %>
    <% } else { %>
        <p>No addresses found.</p>
    <% } %>
          
      
    </div>
  </div>
  
</div>




<%- include('../layouts/_footer') %>